"use strict";define(["jquery","core/modal_factory","core/modal_events","core/fragment","local_edwiserreports/defaultconfig","local_edwiserreports/common"],function(e,t,a,r,o,n){var l={PANEL:"#courseengagementblock",COHORT:".cohort-select",TABLE:"#courseengagementblock table",SEARCH:".table-search-input input",USERS:"#courseengagementblock table a.modal-trigger",MODALSEARCH:".courseengage-modal .table-search-input input"},s={cohort:0},i=null,c={GET_COURSEENGAGEMENT:function(t){return e.ajax({url:o.requestUrl,type:o.requestType,dataType:o.requestDataType,data:{action:"get_courseengagement_data_ajax",secret:M.local_edwiserreports.secret,lang:e("html").attr("lang"),data:JSON.stringify({filter:t})}})}};return{init:function(t){0!==e(l.PANEL).length&&(e(l.PANEL).find(".singleselect").select2(),n.loader.show(l.PANEL),c.GET_COURSEENGAGEMENT(s).done(function(t){null!==i&&i.destroy(),i=e(l.TABLE).DataTable({data:t.data,dom:'<"edwiserreports-table"<t><"table-pagination"p>>',columns:[{data:"coursename"},{data:"category"},{data:"enrolment"},{data:"coursecompleted"},{data:"completionspercentage"},{data:"visited"},{data:"averagevisits"},{data:"timespent"},{data:"averagetimespent"}],columnDefs:[{className:"text-left",targets:0},{className:"text-center",targets:"_all"}],info:!1,language:{infoEmpty:M.util.get_string("infoempty","local_edwiserreports"),emptyTable:M.util.get_string("nocourses","local_edwiserreports"),zeroRecords:M.util.get_string("zerorecords","local_edwiserreports"),paginate:{previous:M.util.get_string("previous","moodle"),next:M.util.get_string("next","moodle")}},drawCallback:function(){e(l.TABLE).find("th").addClass("theme-3-bg text-white"),n.stylePaginationButton(this)}})}).fail(function(e){console.log(e)}).always(function(){n.loader.hide(l.PANEL)}))}}});
//# sourceMappingURL=block_courseengagement.min.js.map

"use strict";define(["jquery","./chart/apexcharts","./common","./defaultconfig"],function(e,t,r,s){var i={PANEL:"#siteaccessblock",GRAPH:"#apex-chart-siteaccess-block",SHADE:".siteaccess-values-shade"},a={GET_VISITSONSITE:function(){return e.ajax({url:s.requestUrl,type:s.requestType,dataType:s.requestDataType,data:{action:"get_siteaccess_data_ajax",secret:M.local_edwiserreports.secret}})}},o=null,c={series:[],chart:{height:500,type:"heatmap",toolbar:{show:!1}},xaxis:{categories:[M.util.get_string("week_0","local_edwiserreports"),M.util.get_string("week_1","local_edwiserreports"),M.util.get_string("week_2","local_edwiserreports"),M.util.get_string("week_3","local_edwiserreports"),M.util.get_string("week_4","local_edwiserreports"),M.util.get_string("week_5","local_edwiserreports"),M.util.get_string("week_6","local_edwiserreports")]},dataLabels:{enabled:!1},colors:[s.getColorTheme()[2]]};function l(s){r.loader.show(i.PANEL),a.GET_VISITSONSITE().done(function(a){if(!0!==a.error||"invalidsecretkey"!==a.exception.errorcode){var l=Object.assign({},c);l.series=a.data.siteaccess.reverse(),function(e,s){null!==o&&o.destroy(),(o=new t(e.get(0),s)).render(),setTimeout(function(){r.loader.hide(i.PANEL)},1e3)}(e(i.PANEL).find(i.GRAPH),l)}else s("siteaccessblock",a)}).fail(function(e){r.loader.hide(i.PANEL)})}return{init:function(t){e(i.PANEL).length&&(l(t),e(i.SHADE).css("background-image","linear-gradient(to right, rgba(0, 0, 0, 0), "+s.getColorTheme()[2]+")"))}}});
//# sourceMappingURL=block_siteaccess.min.js.map

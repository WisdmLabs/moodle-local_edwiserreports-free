"use strict";define(["jquery","core/notification","./chart/apexcharts","./common","./defaultconfig"],function(e,t,s,r,i){let a={PANEL:"#siteaccessblock",GRAPH:"#apex-chart-siteaccess-block",SHADES:".siteaccess-values-shade .shades"},o={GET_VISITSONSITE:function(){return e.ajax({url:i.requestUrl,type:i.requestType,dataType:i.requestDataType,data:{action:"get_siteaccess_data_ajax",secret:M.local_edwiserreports.secret,lang:e("html").attr("lang")}})}},c=null;const n={series:[],chart:{height:500,type:"heatmap",toolbar:{show:!1}},xaxis:{categories:[M.util.get_string("week_0","local_edwiserreports"),M.util.get_string("week_1","local_edwiserreports"),M.util.get_string("week_2","local_edwiserreports"),M.util.get_string("week_3","local_edwiserreports"),M.util.get_string("week_4","local_edwiserreports"),M.util.get_string("week_5","local_edwiserreports"),M.util.get_string("week_6","local_edwiserreports")]},dataLabels:{enabled:!1},colors:[i.getColorTheme()[2]]};function l(i){r.loader.show(a.PANEL),o.GET_VISITSONSITE().done(function(t){if(!0===t.error&&"invalidsecretkey"===t.exception.errorcode)return void i("siteaccessblock",t);let o=Object.assign({},n);o.series=t.data.siteaccess.reverse(),function(e,t){null!==c&&c.destroy(),(c=new s(e.get(0),t)).render(),setTimeout(function(){r.loader.hide(a.PANEL)},1e3)}(e(a.PANEL).find(a.GRAPH),o)}).fail(function(e){t.exception(e),r.loader.hide(a.PANEL)})}return{init:function(t){e(a.PANEL).length&&(l(t),function(){let t=0;for(let s=1;s<=15;s++)e(a.SHADES).append(`<div class="shade" style="opacity: ${t};"><div class="shade-inner"></div></div>`),t+=1/14;e(a.SHADES).find(".shade .shade-inner").css("background-color",i.getColorTheme()[2]),e(a.SHADES).find(".shade").css("width",100/15+"%")}())}}});
//# sourceMappingURL=block_siteaccess.min.js.map

"use strict";
define(["jquery", "./chart/apexcharts", "./common", "./defaultconfig"], function(e, t, r, s) { var a = { PANEL: "#siteaccessblock", GRAPH: "#apex-chart-siteaccess-block", SHADE: ".siteaccess-values-shade" },
        i = { GET_VISITSONSITE: function() { return e.ajax({ url: s.requestUrl, type: s.requestType, dataType: s.requestDataType, data: { action: "get_siteaccess_data_ajax", secret: M.local_edwiserreports.secret } }) } },
        o = null,
        l = { series: [], chart: { height: 500, type: "heatmap", toolbar: { show: !1 } }, xaxis: { categories: [M.util.get_string("week_0", "local_edwiserreports"), M.util.get_string("week_1", "local_edwiserreports"), M.util.get_string("week_2", "local_edwiserreports"), M.util.get_string("week_3", "local_edwiserreports"), M.util.get_string("week_4", "local_edwiserreports"), M.util.get_string("week_5", "local_edwiserreports"), M.util.get_string("week_6", "local_edwiserreports")] }, dataLabels: { enabled: !1 }, colors: [s.getColorTheme()[2]] };

    function c(s) { r.loader.show(a.PANEL), i.GET_VISITSONSITE().done(function(i) { if (!0 !== i.error || "invalidsecretkey" !== i.exception.errorcode) { var c = Object.assign({}, l);
                c.series = i.data.siteaccess.reverse(),
                    function(e, s) { null !== o && o.destroy(), (o = new t(e.get(0), s)).render(), setTimeout(function() { r.loader.hide(a.PANEL) }, 1e3) }(e(a.PANEL).find(a.GRAPH), c) } else s("siteaccessblock", i) }).fail(function(e) { r.loader.hide(a.PANEL) }) } return { init: function(t) { e(a.PANEL).length && (c(t), e(a.SHADE).css("background-image", "linear-gradient(to right, rgba(0, 0, 0, 0), " + s.getColorTheme()[2] + ")")) } } });
//# sourceMappingURL=block_siteaccess.min.js.map
"use strict";define(["jquery","./chart/apexcharts","./common","./defaultconfig"],function(e,t,s,r){var a={PANEL:"#siteaccessblock",GRAPH:"#apex-chart-siteaccess-block",SHADES:".siteaccess-values-shade .shades"},i={GET_VISITSONSITE:function(){return e.ajax({url:r.requestUrl,type:r.requestType,dataType:r.requestDataType,data:{action:"get_siteaccess_data_ajax",secret:M.local_edwiserreports.secret,lang:e("html").attr("lang")}})}},o=null,c={series:[],chart:{height:500,type:"heatmap",toolbar:{show:!1}},xaxis:{categories:[M.util.get_string("week_0","local_edwiserreports"),M.util.get_string("week_1","local_edwiserreports"),M.util.get_string("week_2","local_edwiserreports"),M.util.get_string("week_3","local_edwiserreports"),M.util.get_string("week_4","local_edwiserreports"),M.util.get_string("week_5","local_edwiserreports"),M.util.get_string("week_6","local_edwiserreports")]},dataLabels:{enabled:!1},colors:[r.getColorTheme()[2]]};function l(r){s.loader.show(a.PANEL),i.GET_VISITSONSITE().done(function(i){if(!0!==i.error||"invalidsecretkey"!==i.exception.errorcode){var l=Object.assign({},c);l.series=i.data.siteaccess.reverse(),function(e,r){null!==o&&o.destroy(),(o=new t(e.get(0),r)).render(),setTimeout(function(){s.loader.hide(a.PANEL)},1e3)}(e(a.PANEL).find(a.GRAPH),l)}else r("siteaccessblock",i)}).fail(function(e){s.loader.hide(a.PANEL)})}return{init:function(t){e(a.PANEL).length&&(l(t),function(){for(var t=0,s=1;s<=15;s++)e(a.SHADES).append('<div class="shade" style="opacity: '.concat(t,';"><div class="shade-inner"></div></div>')),t+=1/14;e(a.SHADES).find(".shade .shade-inner").css("background-color",r.getColorTheme()[2]),e(a.SHADES).find(".shade").css("width",100/15+"%")}())}}});
//# sourceMappingURL=block_siteaccess.min.js.map

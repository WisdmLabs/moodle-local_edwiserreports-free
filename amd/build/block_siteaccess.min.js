"use strict";define(["jquery","core/notification","./chart/apexcharts","./common","./defaultconfig"],function(e,t,s,r,a){var i={PANEL:"#siteaccessblock",GRAPH:"#apex-chart-siteaccess-block",SHADES:".siteaccess-values-shade .shades"},o={GET_VISITSONSITE:function(){return e.ajax({url:a.requestUrl,type:a.requestType,dataType:a.requestDataType,data:{action:"get_siteaccess_data_ajax",secret:M.local_edwiserreports.secret,lang:e("html").attr("lang")}})}},c=null,n={series:[],chart:{height:500,type:"heatmap",toolbar:{show:!1}},xaxis:{categories:[M.util.get_string("week_0","local_edwiserreports"),M.util.get_string("week_1","local_edwiserreports"),M.util.get_string("week_2","local_edwiserreports"),M.util.get_string("week_3","local_edwiserreports"),M.util.get_string("week_4","local_edwiserreports"),M.util.get_string("week_5","local_edwiserreports"),M.util.get_string("week_6","local_edwiserreports")]},dataLabels:{enabled:!1},colors:[a.getColorTheme()[2]]};function l(a){r.loader.show(i.PANEL),o.GET_VISITSONSITE().done(function(t){if(!0!==t.error||"invalidsecretkey"!==t.exception.errorcode){var o=Object.assign({},n);o.series=t.data.siteaccess.reverse(),function(e,t){null!==c&&c.destroy(),(c=new s(e.get(0),t)).render(),setTimeout(function(){r.loader.hide(i.PANEL)},1e3)}(e(i.PANEL).find(i.GRAPH),o)}else a("siteaccessblock",t)}).fail(function(e){t.exception(e),r.loader.hide(i.PANEL)})}return{init:function(t){e(i.PANEL).length&&(l(t),function(){for(var t=0,s=1;s<=15;s++)e(i.SHADES).append('<div class="shade" style="opacity: '.concat(t,';"><div class="shade-inner"></div></div>')),t+=1/14;e(i.SHADES).find(".shade .shade-inner").css("background-color",a.getColorTheme()[2]),e(i.SHADES).find(".shade").css("width",100/15+"%")}())}}});
//# sourceMappingURL=block_siteaccess.min.js.map

"use strict";define(["jquery","./defaultconfig","./variables","./common","./jquery.dataTables","./dataTables.bootstrap4"],function(e,a,t,r){return{init:function(t){var o,l=a.getPanel("#activecoursesblock"),n=a.getPanel("#activecoursesblock","body"),s=n+" .loader",c=n+" .table",i=l+" .table-search-input input";e(l).length&&(r.loader.show("#activecoursesblock"),e.ajax({url:a.requestUrl,type:a.requestType,dataType:a.requestDataType,data:{action:"get_activecourses_data_ajax",secret:M.local_edwiserreports.secret,lang:e("html").attr("lang")}}).done(function(a){var l;!0!==a.error||"invalidsecretkey"!==a.exception.errorcode?(l=a.data,o&&o.destroy(),(o=e(c).DataTable({responsive:!0,data:l,dom:'<"edwiserreports-table"<t><"table-pagination"p>>',aaSorting:[[2,"desc"]],aoColumns:[null,null,{orderSequence:["desc"]},{orderSequence:["desc"]},{orderSequence:["desc"]}],language:{searchPlaceholder:"Search Course"},initComplete:function(){e(s).hide(),e(c).fadeIn("slow")},drawCallback:function(){r.stylePaginationButton(this)},columnDefs:[{targets:0,className:"text-left pl-5",orderable:!1},{targets:1,className:"text-left",orderable:!1},{targets:"_all",className:"text-center"}],lengthChange:!1,bInfo:!1})).on("order.dt",function(){o.column(0,{order:"applied"}).nodes().each(function(e,a){var t="";a>=0&&a<=2&&(t="<img class='ml-1' src='"+M.util.image_url("trophy/"+["gold","silver","bronze"][a],"local_edwiserreports")+"'></img>"),e.innerHTML=a+1+t}),e(c+" td:not(.bg-secondary)").addClass("bg-white")}).draw(),e("body").on("input",i,function(){o.column(1).search(this.value).draw()})):t("activecoursesblock",a)}).fail(function(e){}).always(function(){r.loader.hide("#activecoursesblock")}))}}});
//# sourceMappingURL=block_activecourses.min.js.map

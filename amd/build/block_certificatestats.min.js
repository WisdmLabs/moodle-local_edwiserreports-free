"use strict";define(["jquery","core/templates","local_edwiserreports/defaultconfig","./common"],function(e,t,a,i){var r,c=a.getPanel("#certificatesblock"),o=(a.getPanel("#certificatesblock","body"),c+" .table"),n=c+" .table-dropdown",l=c+" .table-search-input input";return{init:function(){function s(){i.loader.hide("#certificatesblock")}e(c).length&&(i.loader.show("#certificatesblock"),e.ajax({url:a.requestUrl,type:a.requestType,dataType:a.requestDataType,data:{action:"get_certificates_data_ajax",secret:M.local_edwiserreports.secret}}).done(function(a){!0===a.error&&"invalidsecretkey"===a.exception.errorcode&&invalidUser("certificatestatsblock",a),t.render("local_edwiserreports/certificatestable",a.data).then(function(a,c){t.replaceNode(o,a,c),r=e(o).DataTable({dom:'<"edwiserreports-table"<t><"table-pagination"p>>',oLanguage:{sEmptyTable:"There is no certificate created",sSearchPlaceholder:"Search Certificates"},initComplete:function(){e(n).show()},drawCallback:function(){i.stylePaginationButton(this)},lengthChange:!1,bInfo:!1}),s()}).fail(function(e){console.log(e),s()})}).fail(function(e){s()}),e("body").on("input",l,function(){r.search(this.value).draw()}))}}});
//# sourceMappingURL=block_certificatestats.min.js.map

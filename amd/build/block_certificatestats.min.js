"use strict";define(["jquery","core/notification","./defaultconfig","./common"],function(e,t,a,n){var i={PANEL:"#certificatesblock",TABLE:"#certificatesblock table",SEARCH:".table-search-input input"},o=null,r={GET_CERTIFICATES:function(){return e.ajax({url:a.requestUrl,type:a.requestType,dataType:a.requestDataType,data:{action:"get_certificates_data_ajax",secret:M.local_edwiserreports.secret,lang:e("html").attr("lang")}})}};return{init:function(a){0!==e(i.PANEL).length&&(e(i.PANEL).find(".singleselect").select2(),n.loader.show(i.PANEL),r.GET_CERTIFICATES().done(function(t){null!==o&&o.destroy(),o=e(i.TABLE).DataTable({responsive:!0,data:t.data,dom:'<"edwiserreports-table"<t><"table-pagination"p>>',columns:[{data:"name"},{data:"coursename"},{data:"issued"},{data:"notissued"}],columnDefs:[{targets:[0,1],className:"text-left"},{targets:"_all",className:"text-center"}],language:{info:M.util.get_string("tableinfo","local_edwiserreports"),infoEmpty:M.util.get_string("infoempty","local_edwiserreports"),emptyTable:M.util.get_string("nocertificates","local_edwiserreports"),zeroRecords:M.util.get_string("zerorecords","local_edwiserreports"),paginate:{previous:M.util.get_string("previous","moodle"),next:M.util.get_string("next","moodle")}},drawCallback:function(){n.stylePaginationButton(this)},lengthChange:!1,bInfo:!1})}).fail(t.exception).always(function(){n.loader.hide(i.PANEL)}),e("body").on("input","".concat(i.PANEL," ").concat(i.SEARCH),function(){o.columns(0).search(e(this).val()).draw()}))}}});
//# sourceMappingURL=block_certificatestats.min.js.map

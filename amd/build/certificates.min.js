"use strict";define(["jquery","local_edwiserreports/common","local_edwiserreports/variables","local_edwiserreports/select2","local_edwiserreports/jquery.dataTables","local_edwiserreports/dataTables.bootstrap4","local_edwiserreports/jquery-asPieProgress"],function(e,a,t){return{init:function(r){var s,i=e("#wdm-certificates-individual"),n=i.find(".table"),o=null,l=i.find(".table-search-input input"),d=i.find(".table-length-input select"),c=0;function p(a,r){var n={action:"get_certificates_data_ajax",sesskey:e(i).data("sesskey"),data:JSON.stringify({certificateid:a,cohortid:r})};s.ajax.url(t.generateUrl(t.requestUrl,n)).load()}e(document).ready(function(){s=n.DataTable({dom:'<"edwiserreports-table"i<t><"table-pagination"p>>',columnDefs:[{targets:0,className:"align-middle"},{targets:1,className:"align-middle"},{targets:"_all",className:"align-middle text-center"}],columns:[{data:"username"},{data:"email"},{data:"issuedate"},{data:"dateenrolled"},{data:"grade"},{data:"courseprogress"}],language:{searchPlaceholder:"Search User",emptyTable:"No certificates are awarded"},initComplete:function(a,t){e(".pie-progress").asPieProgress(),n.show()},drawCallback:function(){var e,t;a.stylePaginationButton(this),t=i,""!=(e="")&&(t=t.find(e)),t.find(".pie-progress").asPieProgress({namespace:"pie-progress",speed:30,classes:{svg:"pie-progress-svg",element:"pie-progress",number:"pie-progress-number",content:"pie-progress-content"}})},responsive:!0}),e(document).find(".singleselect").select2(),p(o=e("#wdm-certificates-select").val()),e("#cohortfilter ~ .dropdown-menu .dropdown-item").on("click",function(){c=e(this).data("cohortid"),t.changeExportUrl(c,".dropdown-menu[aria-labelledby='export-dropdown'] .dropdown-item",t.cohortReplaceFlag),e("#cohortfilter").html(e(this).text()),p(o,c)}),e(document).on("change","#wdm-certificates-select",function(){p(o=e(this).val(),c),e('.download-links input[name="filter"]').val(o)}),e(d).on("change",function(){s.page.len(this.value).draw()}),e(l).on("input",function(){s.search(this.value).draw()}),a.handleSearchInput()})}}});
//# sourceMappingURL=certificates.min.js.map

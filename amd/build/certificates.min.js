"use strict";define(["jquery","core/modal_factory","core/modal_events","core/fragment","core/templates","local_edwiserreports/variables","local_edwiserreports/select2","local_edwiserreports/jquery.dataTables","local_edwiserreports/dataTables.bootstrap4","local_edwiserreports/jquery-asPieProgress","local_edwiserreports/common"],function(e,a,t,r,s,o){return{init:function(a){var t=e("#wdm-certificates-individual"),r=t.find(".table"),s="#wdm-certificates-select",i=null,l=null,n=0;function d(a,s){var l={action:"get_certificates_data_ajax",sesskey:e(t).data("sesskey"),data:JSON.stringify({certificateid:a,cohortid:s})};i&&i.destroy(),i=r.DataTable({ajax:o.generateUrl(o.requestUrl,l),columnDefs:[{targets:0,className:"align-middle"},{targets:1,className:"align-middle"},{targets:"_all",className:"align-middle text-center"}],columns:[{data:"username"},{data:"email"},{data:"issuedate"},{data:"dateenrolled"},{data:"grade"},{data:"courseprogress"}],language:{searchPlaceholder:"Search User",emptyTable:"No certificates are awarded"},initComplete:function(a,t){e(".pie-progress").asPieProgress(),r.show()},drawCallback:function(){var a,r;e(".dataTables_paginate > .pagination").addClass("pagination-sm pull-right"),e(".dataTables_filter").addClass("pagination-sm pull-right"),r=t,""!=(a="")&&(r=r.find(a)),r.find(".pie-progress").asPieProgress({namespace:"pie-progress",speed:30,classes:{svg:"pie-progress-svg",element:"pie-progress",number:"pie-progress-number",content:"pie-progress-content"}})},bInfo:!1,responsive:!0})}e(document).ready(function(){e(document).find(s).select2(),d(l=e(s).val()),e("#cohortfilter ~ .dropdown-menu .dropdown-item").on("click",function(){n=e(this).data("cohortid"),o.changeExportUrl(n,".dropdown-menu[aria-labelledby='export-dropdown'] .dropdown-item",o.cohortReplaceFlag),e("#cohortfilter").html(e(this).text()),d(l,n)}),e(document).on("change",s,function(){d(l=e(this).val()),e('.download-links input[name="filter"]').val(l)})})}}});
//# sourceMappingURL=certificates.min.js.map

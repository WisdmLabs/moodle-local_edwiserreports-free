"use strict";
define(["jquery", "core/ajax", "core/templates", "./chart/apexcharts", "./common", "./defaultconfig", "./select2"], function(e, t, a, r, i, l) { var n = null,
        o = { chart: { type: "pie", height: 350 }, fill: { type: "solid" }, legend: { position: "bottom", offsetY: 0 }, colors: l.getColorTheme(), noData: { text: M.util.get_string("nographdata", "local_edwiserreports") } },
        s = { PANEL: "#gradeblock", GRAPH: ".graph", GRAPHLABEL: ".graph-label" },
        c = { GET_GRAPH_DATA: function() { return e.ajax({ url: l.requestUrl, type: l.requestType, dataType: l.requestDataType, data: { action: "get_grade_graph_data_ajax", secret: M.local_edwiserreports.secret } }) } };

    function d() { var t;
        i.loader.show(s.PANEL), c.GET_GRAPH_DATA().done(function(a) {
            (t = Object.assign({}, o)).labels = a.labels, t.series = a.grades, e(s.PANEL).find(s.GRAPHLABEL).text(a.header), i.insight("#gradeblock .insight", { insight: { value: a.average + "%", title: M.util.get_string("averagegrade", "local_edwiserreports") } }),
                function(e, t) { null !== n && n.destroy(), (n = new r(e.get(0), t)).render(), setTimeout(function() { i.loader.hide(s.PANEL) }, 1e3) }(e(s.PANEL).find(s.GRAPH), t) }), i.loader.hide(s.PANEL) } return { init: function(t) { 0 != e(s.PANEL).length && (e(s.PANEL).find(".singleselect").select2(), d()) } } });
//# sourceMappingURL=block_grade.min.js.map
"use strict";define(["jquery","./common","./insights","./block_siteaccess","./block_activecourses","./block_activeusers","./block_courseprogress","./block_courseengagement","./block_inactiveusers","./block_realtimeusers","./block_todaysactivity","./block_grade","./block_visitsonsite","./block_timespentonsite","./block_timespentoncourse","./block_courseactivitystatus","./block_learnercourseprogress","./block_learnertimespentonsite"],function(e,t,o,n,a,r,c,s,i,d,l,E,u,T,p,m,v,D){var A={ROOT:"#wdm-edwiserreports",DATESELECTED:".selected-period",DATE:".edwiserreports-calendar",DATEMENU:".edwiserreports-calendar + .dropdown-menu",DATEITEM:".edwiserreports-calendar + .dropdown-menu .dropdown-item",DATEPICKER:".edwiserreports-calendar + .dropdown-menu .dropdown-calendar",DATEPICKERINPUT:".edwiserreports-calendar + .dropdown-menu .flatpickr"},h=[n,a,r,c,s,i,d,l,E,u,T,p,m,v,D],I=null;function k(t,o){e("#".concat(t," .panel-body")).html(o.exception.message)}function w(t,o){var n=new CustomEvent("edwiserreport:datechange",{detail:{date:t}});document.dispatchEvent(n),e(A.DATESELECTED).html(o)}return{init:function(){e(document).ready(function(){o.init(),t.handleSearchInput(),e(".singleselect").each(function(t,o){e(o).val(e(o).find("option:nth-child(1)").val())}),h.forEach(function(e){e.init(k)}),I=e(A.DATEPICKERINPUT).flatpickr({mode:"range",altInput:!0,altFormat:"d M Y",dateFormat:"Y-m-d",maxDate:"today",appendTo:e(A.DATEPICKER).get(0),onOpen:function(){e(A.DATEMENU).addClass("withcalendar"),e(A.DATE).dropdown("update")},onClose:function(){var t,o;e(A.DATEMENU).removeClass("withcalendar"),t=e(A.DATEPICKERINPUT).val(),o=e(A.DATEPICKERINPUT).next().val().replace("to","-"),e(A.DATEPICKERINPUT).next().val(o),t.includes(" to ")?(e(A.DATEITEM).removeClass("active"),e(A.DATEITEM+".custom").addClass("active"),e(A.DATE).html(o),w(t,o)):I.clear()}}),e("body").on("click",A.DATEITEM+":not(.custom)",function(){e(A.DATEITEM).removeClass("active"),e(this).addClass("active"),e(A.DATE).html(e(this).text()),I.clear(),w(e(this).data("value"),e(this).text())})})}}});
//# sourceMappingURL=main.min.js.map

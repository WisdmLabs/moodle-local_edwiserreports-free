"use strict";define(["jquery","core/modal_factory","./common","./insights","./modal-migration","./block_siteaccess","./block_activecourses","./block_activeusers","./block_courseprogress","./block_inactiveusers","./block_realtimeusers","./block_todaysactivity","./block_grade","./block_visitsonsite","./block_timespentonsite","./block_timespentoncourse","./block_courseactivitystatus","./block_learnercourseprogress","./block_learnertimespentonsite"],function(e,t,o,a,n,r,c,s,i,d,l,E,u,T,m,p,D,v,A){var I={ROOT:"#wdm-edwiserreports",DATESELECTED:".selected-period",DATE:".edwiserreports-calendar",DATEMENU:".edwiserreports-calendar + .dropdown-menu",DATEITEM:".edwiserreports-calendar + .dropdown-menu .dropdown-item",DATEPICKER:".edwiserreports-calendar + .dropdown-menu .dropdown-calendar",DATEPICKERINPUT:".edwiserreports-calendar + .dropdown-menu .flatpickr"},w=[r,c,s,i,d,l,E,u,T,m,p,D,v,A],k=null;function C(t,o){e("#".concat(t," .panel-body")).html(o.exception.message)}function b(t,o){var a=new CustomEvent("edwiserreport:datechange",{detail:{date:t}});document.dispatchEvent(a),e(I.DATESELECTED).html(o)}return{init:function(){e(document).ready(function(){a.init(),o.handleSearchInput(),w.forEach(function(e){e.init(C)}),k=e(I.DATEPICKERINPUT).flatpickr({mode:"range",altInput:!0,altFormat:"d M Y",dateFormat:"Y-m-d",maxDate:"today",appendTo:e(I.DATEPICKER).get(0),onOpen:function(){e(I.DATEMENU).addClass("withcalendar"),e(I.DATE).dropdown("update")},onClose:function(){var t,o;e(I.DATEMENU).removeClass("withcalendar"),t=e(I.DATEPICKERINPUT).val(),o=e(I.DATEPICKERINPUT).next().val().replace("to","-"),e(I.DATEPICKERINPUT).next().val(o),t.includes("to")?(e(I.DATEITEM).removeClass("active"),e(I.DATEITEM+".custom").addClass("active"),e(I.DATE).html(o),b(t,o)):k.clear()}}),e("body").on("click",I.DATEITEM+":not(.custom)",function(){e(I.DATEITEM).removeClass("active"),e(this).addClass("active"),e(I.DATE).html(e(this).text()),k.clear(),b(e(this).data("value"),e(this).text())})})},initMigration:function(){t.create({type:n.TYPE},e("#create"))}}});
//# sourceMappingURL=main.min.js.map

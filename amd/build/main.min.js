"use strict";define(["jquery","core/modal_factory","./insights","./modal-migration","./block_siteaccess","./block_activecourses","./block_activeusers","./block_courseprogress","./block_inactiveusers","./block_realtimeusers","./block_todaysactivity","./block_grade","./block_visitsonsite","./block_timespentonsite","./block_timespentoncourse","./block_courseactivitystatus","./block_learnercourseprogress","./block_learnertimespentonsite"],function(e,t,o,a,r,n,c,s,i,d,l,u,E,m,p,T,v,D){var w={ROOT:"#wdm-edwiserreports",DATE:".edwiserreports-calendar",DATEMENU:".edwiserreports-calendar + .dropdown-menu",DATEITEM:".edwiserreports-calendar + .dropdown-menu .dropdown-item",DATEPICKER:".edwiserreports-calendar + .dropdown-menu .dropdown-calendar",DATEPICKERINPUT:".edwiserreports-calendar + .dropdown-menu .flatpickr"},A=[r,n,c,s,i,d,l,u,E,m,p,T,v,D],k=null;function b(t,o){e("#".concat(t," .panel-body")).html(o.exception.message)}function I(e){var t=new CustomEvent("edwiserreport:datechange",{detail:{date:e}});document.dispatchEvent(t)}return{init:function(){e(document).ready(function(){o.init(),A.forEach(function(e){e.init(b)}),k=e(w.DATEPICKERINPUT).flatpickr({mode:"range",altInput:!0,altFormat:"d/m/Y",dateFormat:"Y-m-d",maxDate:"today",appendTo:e(w.DATEPICKER).get(0),onOpen:function(){e(w.DATEMENU).addClass("withcalendar"),e(w.DATE).dropdown("update")},onClose:function(){var t,o;e(w.DATEMENU).removeClass("withcalendar"),t=e(w.DATEPICKERINPUT).val(),(o=e(w.DATEPICKERINPUT).next().val()).includes("to")?(e(w.DATEITEM).removeClass("active"),e(w.DATEITEM+".custom").addClass("active"),e(w.DATE).html(o),I(t)):k.clear()}}),e("body").on("click",w.DATEITEM+":not(.custom)",function(){e(w.DATEITEM).removeClass("active"),e(this).addClass("active"),e(w.DATE).html(e(this).text()),k.clear(),I(e(this).data("value"))})})},initMigration:function(){t.create({type:a.TYPE},e("#create"))}}});
//# sourceMappingURL=main.min.js.map

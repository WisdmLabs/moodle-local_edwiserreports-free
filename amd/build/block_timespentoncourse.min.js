"use strict";define(["jquery","core/notification","./chart/apexcharts","./common","./defaultconfig"],function(e,t,i,o,a){let r={PANEL:"#timespentoncourseblock",INSIGHT:"#timespentoncourseblock .insight",GRAPH:"#apex-chart-timespentoncourse-block"},l={GET_TIMESPENTONCOURSE:function(){return e.ajax({url:a.requestUrl,type:a.requestType,dataType:a.requestDataType,data:{action:"get_timespentoncourse_graph_data_ajax",secret:M.local_edwiserreports.secret,lang:e("html").attr("lang")}})}},n=null;const s={series:[],chart:{type:"bar",height:350,toolbar:{show:!0,tools:{download:!1,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:'<i class="fa fa-refresh"></i>'}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,fillSeriesColor:!1,onDatasetHover:{highlightDataSeries:!1},y:{formatter:void 0,title:{}},marker:{show:!0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},plotOptions:{bar:{columnWidth:"50%"}},grid:{borderColor:"#e7e7e7"},dataLabels:{enabled:!1},xaxis:{categories:null,labels:{hideOverlappingLabels:!0,trim:!0},tickPlacement:"on"},legend:{position:"top",horizontalAlign:"left",offsetY:"-20",itemMargin:{horizontal:10,vertical:0}},colors:[a.getColorTheme()[2]],noData:{text:M.util.get_string("nographdata","local_edwiserreports")}};function c(a){o.loader.show(r.PANEL),l.GET_TIMESPENTONCOURSE().done(function(t){let a=Object.assign({},s);var l="rtl"==e("html").attr("dir")?1:0;a.series=[{name:M.util.get_string("timespentoncourse","local_edwiserreports"),data:t.timespent}],a.xaxis.categories=t.labels,a.yaxis={labels:{formatter:o.timeFormatter}},a.chart.toolbar.show=t.labels.length>30,a.chart.zoom={enabled:t.labels.length>30},a.tooltip.y.title.formatter=(()=>M.util.get_string("time","local_edwiserreports")+": "),t.insight.insight.value=o.timeFormatter(t.insight.insight.value,{dataPointIndex:0,short:!0},l).replaceAll(","," "),t.insight.details.data[0].value=o.timeFormatter(t.insight.details.data[0].value,{dataPointIndex:0},l),o.insight(r.INSIGHT,t.insight),function(e,t){null!==n&&n.destroy(),(n=new i(e.get(0),t)).render(),setTimeout(function(){o.loader.hide(r.PANEL)},1e3)}(e(r.PANEL).find(r.GRAPH),a)}).fail(function(e){t.exception(e),o.loader.hide(r.PANEL)})}return{init:function(t){e(r.PANEL).length&&(e(r.PANEL).find(".singleselect").select2(),o.handleFilterSize(r.PANEL),c())}}});
//# sourceMappingURL=block_timespentoncourse.min.js.map

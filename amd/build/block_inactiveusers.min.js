define(["jquery","core/notification","./defaultconfig","./variables","./common","./jquery.dataTables","./dataTables.bootstrap4"],(function(e,t,a,r,i){return{init:function(n){var o=a.getPanel("#inactiveusersblock"),l=a.getPanel("#inactiveusersblock","body"),s=l+" #inactiveuserstable",d=l+" .dropdown-menu .dropdown-item",c=l+" button.dropdown-toggle",u=null,p=o+" .dropdown-menu[aria-labelledby='export-dropdown'] .dropdown-item",g=o+" .table-search-input input";if(e(o).length){u=e(s).DataTable({dom:'<"edwiserreports-table"<t><"table-pagination"p>>',aaSorting:[[2,"desc"]],language:{info:M.util.get_string("tableinfo","local_edwiserreports"),infoEmpty:M.util.get_string("infoempty","local_edwiserreports"),emptyTable:M.util.get_string("noinactiveusers","local_edwiserreports"),zeroRecords:M.util.get_string("zerorecords","local_edwiserreports"),paginate:{previous:" ",next:" "}},columnDefs:[{targets:1,className:"d-none d-sm-none d-md-table-cell d-lg-table-cell "},{targets:2,className:"text-center"}],drawCallback:function(){i.stylePaginationButton(this),i.loader.hide("#inactiveusersblock")},responsive:!0,lengthChange:!1,bInfo:!1});e(c).html(e(d).first().html()),e(d).removeClass("active"),e(d).first().addClass("active"),f("never"),e(d).on("click",(function(){var t=e(this).data("value");e(d).removeClass("active"),e(this).addClass("active"),e(c).html(e(this).html()),e(o).find('.download-links input[name="filter"]').val(t),a.changeExportUrl(t,p,r.filterReplaceFlag),f(t)})),e("body").on("input",g,(function(){u.search(this.value).draw()}))}function f(r){i.loader.show("#inactiveusersblock"),e.ajax({url:a.requestUrl,type:a.requestType,dataType:a.requestDataType,data:{action:"get_inactiveusers_data_ajax",secret:M.local_edwiserreports.secret,lang:e("html").attr("lang"),data:JSON.stringify({filter:r})}}).done((function(e){!0!==e.error||"invalidsecretkey"!==e.exception.errorcode?e.data&&Array.isArray(e.data)?0!==e.data.length?(u.clear(),u.rows.add(e.data),u.draw()):u.clear().draw():t.exception(new Error("Invalid data format received")):n("inactiveusersblock",e)})).fail((function(e){t.exception(e)})).always((function(){i.loader.hide("#inactiveusersblock")}))}}}}));
//# sourceMappingURL=block_inactiveusers.min.js.map

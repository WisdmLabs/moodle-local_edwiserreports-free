"use strict";define(["jquery","core/notification","./defaultconfig","./variables","./common","./jquery.dataTables","./dataTables.bootstrap4"],function(e,t,a,n,i){return{init:function(r){var o=a.getPanel("#inactiveusersblock"),l=a.getPanel("#inactiveusersblock","body"),s=l+" #inactiveuserstable",d=l+" .dropdown-menu .dropdown-item",c=l+" button.dropdown-toggle",u=null,g=o+" .dropdown-menu[aria-labelledby='export-dropdown'] .dropdown-item",p=o+" .table-search-input input";function b(n){i.loader.show("#inactiveusersblock"),e.ajax({url:a.requestUrl,type:a.requestType,dataType:a.requestDataType,data:{action:"get_inactiveusers_data_ajax",secret:M.local_edwiserreports.secret,lang:e("html").attr("lang"),data:JSON.stringify({filter:n})}}).done(function(e){!0!==e.error||"invalidsecretkey"!==e.exception.errorcode?(u.clear(),u.rows.add(e.data),u.draw()):r("inactiveusersblock",e)}).fail(function(e){t.exception(e)}).always(function(){i.loader.hide("#inactiveusersblock")})}e(o).length&&(u=e(s).DataTable({dom:'<"edwiserreports-table"<t><"table-pagination"p>>',aaSorting:[[2,"desc"]],language:{info:M.util.get_string("tableinfo","local_edwiserreports"),infoEmpty:M.util.get_string("infoempty","local_edwiserreports"),emptyTable:M.util.get_string("noinactiveusers","local_edwiserreports"),zeroRecords:M.util.get_string("zerorecords","local_edwiserreports"),paginate:{previous:M.util.get_string("previous","moodle"),next:M.util.get_string("next","moodle")}},columnDefs:[{targets:1,className:"d-none d-sm-none d-md-table-cell d-lg-table-cell "},{targets:2,className:"text-center"}],drawCallback:function(){i.stylePaginationButton(this),i.loader.hide("#inactiveusersblock")},responsive:!0,lengthChange:!1,bInfo:!1}),b(e(d).data("value")),e(d).on("click",function(){var t=e(this).data("value");e(o).find('.download-links input[name="filter"]').val(t),e(c).html(e(this).html()),a.changeExportUrl(t,g,n.filterReplaceFlag),b(e(this).data("value"))}),e("body").on("input",p,function(){u.search(this.value).draw()}))}}});
//# sourceMappingURL=block_inactiveusers.min.js.map

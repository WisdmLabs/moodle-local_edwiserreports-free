"use strict";define(["jquery","local_edwiserreports/chart/apexcharts","local_edwiserreports/defaultconfig","./common"],function(t,a,o,e){return{init:function(i){var r,c=o.getPanel("#todaysactivityblock"),d=o.getPanel("#todaysactivityblock","body"),s=c+" #flatpickrCalender-todaysactivity";function l(c){e.loader.show("#todaysactivityblock"),t.ajax({url:o.requestUrl,type:o.requestType,dataType:o.requestDataType,data:{action:"get_todaysactivity_data_ajax",secret:M.local_edwiserreports.secret,data:JSON.stringify({date:c})}}).done(function(e){!0!==e.error||"invalidsecretkey"!==e.exception.errorcode?(t.each(e.data,function(a,o){t(d+" #todays-"+a).find(".data").html(o)}),function(e){o.todaysActivityBlock.graph.data=e,e={labels:o.todaysActivityBlock.graph.labels,datasets:[{label:o.todaysActivityBlock.graph.labelName,data:o.todaysActivityBlock.graph.data,backgroundColor:o.todaysActivityBlock.graph.backgroundColor}]};var i={series:[{data:o.todaysActivityBlock.graph.data}],chart:{type:"bar",height:150,toolbar:{show:!1}},plotOptions:{bar:{borderRadius:4,horizontal:!1,colors:{ranges:[{from:0,to:100}]}}},grid:{show:!1},dataLabels:{enabled:!1},yaxis:{show:!1},tooltip:{theme:"dark",custom:function(t){var a=t.series,o=t.seriesIndex,e=t.dataPointIndex,i=t.w;return'<div class="text-center p-1">'+i.config.xaxis.categories[e]+"<br>"+a[o][e]+"</div>"}},xaxis:{categories:o.todaysActivityBlock.graph.labels},colors:[o.getColorTheme()[2]]};r&&r.destroy(),(r=new a(t("#apex-chart-todays-activity").get(0),i)).render()}(e.data.visitshour)):i("todaysactivityblock",e)}).fail(function(t){}).always(function(){e.loader.hide("#todaysactivityblock")})}t(document).ready(function(){o.todaysActivityBlock=o.getTodaysActivityBlock(),o.todaysActivityBlock&&(l(),t(s).flatpickr({dateFormat:"d M Y",maxDate:"today",defaultDate:["today"],onChange:function(t,a,o){l(a)}}))})}}});
//# sourceMappingURL=block_todaysactivity.min.js.map

"use strict";define(["jquery","./variables","./common","./select2"],function(e,t,n){return{init:function(a){var i="#wdm-completion-individual",o=e(i).find(".table"),l=null,s=10,r=0;function d(a,r){n.loader.show(i);var d={action:"get_completion_data_ajax",sesskey:e(i).data("sesskey"),data:JSON.stringify({courseid:a,cohortid:r})};null!==l&&l.destroy(),l=o.DataTable({dom:'<"edwiserreports-table"<"table-filter d-flex"i><t><"table-pagination"p>>',ajax:t.generateUrl(t.requestUrl,d),pageLength:s,language:{info:M.util.get_string("tableinfo","local_edwiserreports"),infoEmpty:M.util.get_string("infoempty","local_edwiserreports"),emptyTable:M.util.get_string("nostudentsenrolled","local_edwiserreports"),zeroRecords:M.util.get_string("zerorecords","local_edwiserreports"),paginate:{previous:M.util.get_string("previous","moodle"),next:M.util.get_string("next","moodle")}},columns:[{data:"username"},{data:"enrolledon"},{data:"enrolltype"},{data:"noofvisits"},{data:"completion"},{data:"compleiontime"},{data:"grade"},{data:"lastaccess"}],drawCallback:function(){n.stylePaginationButton(this)},columnDefs:[{className:"text-left",targets:[0,1]},{className:"text-right",targets:"_all"}],initComplete:function(){n.loader.hide(i)}})}e(document).ready(function(){n.handleSearchInput();var t=e(i).find('.download-links input[name="filter"]').val();d(t,r),e(i).find(".cohort-select").on("change",function(){r=e(this).val(),e(i).find('.download-links input[name="cohortid"]').val(r),d(t,r)}),e(i).find(".course-select").on("change",function(){window.location=M.cfg.wwwroot+"/local/edwiserreports/completion.php?courseid="+e(this).val()}),e(i).find(".singleselect").select2(),e("#wdm-completion-individual .table-length-input select").on("change",function(){l.page.len(this.value).draw(),s=this.value}),e("#wdm-completion-individual .table-search-input input").on("input",function(){l.column(0).search(this.value).draw()})})}}});
//# sourceMappingURL=completion.min.js.map

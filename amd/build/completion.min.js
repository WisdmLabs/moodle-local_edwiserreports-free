"use strict";define(["jquery","./variables","./common","./select2"],function(e,t,a){return{init:function(n){var i="#wdm-completion-individual",l=e(i).find(".table"),o=null,s=10,r=0;function d(n,r){a.loader.show(i);var d={action:"get_completion_data_ajax",sesskey:e(i).data("sesskey"),data:JSON.stringify({courseid:n,cohortid:r})};null!==o&&o.destroy(),o=l.DataTable({dom:'<"edwiserreports-table"<"table-filter d-flex"i><t><"table-pagination"p>>',ajax:t.generateUrl(t.requestUrl,d),pageLength:s,language:{info:M.util.get_string("tableinfo","local_edwiserreports"),infoEmpty:M.util.get_string("infoempty","local_edwiserreports"),emptyTable:M.util.get_string("nostudentsenrolled","local_edwiserreports"),zeroRecords:M.util.get_string("zerorecords","local_edwiserreports"),paginate:{previous:M.util.get_string("previous","moodle"),next:M.util.get_string("next","moodle")}},columns:[{data:"username"},{data:"enrolledon"},{data:"enrolltype"},{data:"noofvisits"},{data:"completion"},{data:"compleiontime"},{data:"grade"},{data:"lastaccess"}],drawCallback:function(){a.stylePaginationButton(this)},columnDefs:[{className:"text-left",targets:0},{className:"text-left",targets:1},{className:"text-center",targets:"_all"}],initComplete:function(){a.loader.hide(i)}})}e(document).ready(function(){a.handleSearchInput();var t=e(i).find('.download-links input[name="filter"]').val();d(t,r),e(i).find(".cohort-select").on("change",function(){r=e(this).val(),e(i).find('.download-links input[name="cohortid"]').val(r),d(t,r)}),e(i).find(".singleselect").select2(),e("#wdm-completion-individual .table-length-input select").on("change",function(){o.page.len(this.value).draw(),s=this.value}),e("#wdm-completion-individual .table-search-input input").on("input",function(){o.column(0).search(this.value).draw()})})}}});
//# sourceMappingURL=completion.min.js.map

{"version":3,"sources":["defaultconfig.js"],"names":["define","$","v","requestUrl","requestType","requestDataType","component","getTodaysActivityBlock","todaysActivityBlock","length","ctx","getContext","labelName","graph","type","options","responsive","maintainAspectRatio","aspectRatio","scales","xAxes","display","gridLines","zeroLineColor","color","ticks","fontColor","yAxes","legend","borderColor","whiteColor","backgroundColor","borderWidth","labels","clock12_0","clock12_1","clock12_2","clock12_3","clock12_4","clock12_5","clock12_6","clock12_7","clock12_8","clock12_9","clock12_10","clock12_11","clock12_12","clock12_13","clock12_14","clock12_15","clock12_16","clock12_17","clock12_18","clock12_19","clock12_20","clock12_21","clock12_22","clock12_23","data","getActiveUsersBlock","activeUsersBlock","fontFamily","fontStyle","pointStyle","showInLegend","usePointStyle","elements","beginAtZero","min","callback","value","Number","isInteger","activeUsers","enrolments","completionRate","getCourseProgressBlock","courseProgressBlock","position","tooltips","callbacks","title","tooltipItem","M","util","get_string","per","index","val","datasets","label","changeExportUrl","getLpStatsBlock","lpStatsBlock","getPanel","blockid","panel","getTemplate","template","getUrlParams","generateUrl","download","content","fileName","mimeType","a","document","createElement","navigator","msSaveBlob","Blob","URL","href","createObjectURL","setAttribute","body","appendChild","click","removeChild","location","encodeURIComponent"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n/**\n * Plugin administration pages are defined here.\n *\n * @package     local_edwiserreports\n * @copyright   2021 wisdmlabs <support@wisdmlabs.com>\n * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([\"jquery\", \"local_edwiserreports/variables\", \"local_edwiserreports/select2\"], function($, v) {\n    var defaultConfig = {\n        // Default Config\n        requestUrl: v.requestUrl,\n        requestType: v.requestType,\n        requestDataType: v.requestDataType,\n        component: v.component,\n\n        // Todays Activity Block\n        getTodaysActivityBlock: function() {\n            var cpBlockData = $(v.todaysActivityBlock);\n            if (cpBlockData.length == 0) {\n                return false;\n            }\n\n            // Return course progress graph object\n            return {\n                ctx: $(v.todaysActivityBlock)[0].getContext(\"2d\"),\n                labelName: \"Page Access\",\n                graph: {\n                    type: \"bar\",\n                    options: {\n                        responsive: true,\n                        maintainAspectRatio: false,\n                        aspectRatio: 1,\n                        scales: {\n                            xAxes: [{\n                                display: true,\n                                gridLines: {\n                                    display: false,\n                                    zeroLineColor: \"#FFF\",\n                                    color: \"#FFF\"\n                                },\n                                ticks: {\n                                    fontColor: \"#FFF\"\n                                }\n                            }],\n                            yAxes: [{\n                                display: false,\n                                gridLines: {\n                                    display: false,\n                                    zeroLineColor: \"#FFF\",\n                                    color: \"#FFF\"\n                                },\n                                ticks: {\n                                    fontColor: \"#FFF\"\n                                }\n                            }]\n                        },\n                        legend: {\n                            display: false\n                        }\n                    },\n                    borderColor: v.whiteColor,\n                    backgroundColor: v.whiteColor,\n                    borderWidth: 2,\n                    labels: [\n                        v.clock12_0, v.clock12_1, v.clock12_2,\n                        v.clock12_3, v.clock12_4, v.clock12_5,\n                        v.clock12_6, v.clock12_7, v.clock12_8,\n                        v.clock12_9, v.clock12_10, v.clock12_11,\n                        v.clock12_12, v.clock12_13, v.clock12_14,\n                        v.clock12_15, v.clock12_16, v.clock12_17,\n                        v.clock12_18, v.clock12_19, v.clock12_20,\n                        v.clock12_21, v.clock12_22, v.clock12_23,\n                    ],\n                    data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n                },\n            };\n        },\n\n        // Active Users Block\n        getActiveUsersBlock: function() {\n            var cpBlockData = $(v.activeUsersBlock);\n            if (cpBlockData.length == 0) {\n                return false;\n            }\n\n            // Return course progress graph object\n            return {\n                ctx: $(v.activeUsersBlock)[0].getContext(\"2d\"),\n                labelName: \"Page Access\",\n                graph: {\n                    type: \"line\",\n                    fontFamily: \"Open Sans\",\n                    fontStyle: \"bold\",\n                    pointStyle: \"line\",\n                    showInLegend: true,\n                    options: {\n                        legend: {\n                            labels: {\n                                usePointStyle: true\n                            }\n                        },\n                        elements: {\n                            borderWidth: 4\n                        },\n                        scales: {\n                            yAxes: [{\n                                ticks: {\n                                    beginAtZero: true,\n                                    min: 0,\n                                    callback: function(value) {\n                                        if (Number.isInteger(value)) {\n                                            return value;\n                                        }\n                                        return null;\n                                    }\n                                },\n                            }]\n                        },\n                        responsive: true,\n                        maintainAspectRatio: false,\n                        aspectRatio: 1\n                    },\n                    labelName: {\n                        activeUsers: \"Active Users\",\n                        enrolments: \"Course Enrolment\",\n                        completionRate: \"Course Completion Rate\"\n                    },\n                    backgroundColor: {\n                        activeUsers: \"rgba(0, 0, 0, 0)\",\n                        enrolments: \"rgba(0, 0, 0, 0)\",\n                        completionRate: \"rgba(0, 0, 0, 0)\"\n                    },\n                    borderColor: {\n                        activeUsers: \"rgba(255, 99, 132, 1)\",\n                        enrolments: \"rgba(73, 222, 148, 1)\",\n                        completionRate: \"rgba(62, 142, 247, 1)\"\n                    },\n                    data: {\n                        activeUsers: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n                        enrolments: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n                        completionRate: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n                    }\n                }\n            };\n        },\n\n        /**\n         * Get course progress block object\n         * @return {object} Course progress graph object\n         */\n        getCourseProgressBlock: function() {\n            var cpBlockData = $(v.courseProgressBlock);\n            if (cpBlockData.length == 0) {\n                return false;\n            }\n\n            // Return course progress graph object\n            return {\n                ctx: $(v.courseProgressBlock)[0].getContext(\"2d\"),\n                graph: {\n                    type: \"pie\",\n                    data: [0, 0, 0, 0, 0, 0],\n                    options: {\n                        responsive: true,\n                        legend: {position: 'bottom'},\n                        maintainAspectRatio: false,\n                        aspectRatio: 1,\n                        tooltips: {\n                            callbacks: {\n                                title: function(tooltipItem, data) {\n                                    return [\n                                        M.util.get_string('cpblocktooltip1',\n                                            v.component,\n                                            {\n                                                \"per\": data.labels[tooltipItem[0].index],\n                                            }),\n                                        M.util.get_string('cpblocktooltip2',\n                                            v.component,\n                                            {\n                                                \"val\": data.datasets[0].data[tooltipItem[0].index]\n                                            })\n                                    ];\n                                },\n                                label: function() {\n                                    return '';\n                                }\n                            }\n                        }\n                    },\n                    labels: [\n                        M.util.get_string('per20-0', v.component),\n                        M.util.get_string('per40-20', v.component),\n                        M.util.get_string('per60-40', v.component),\n                        M.util.get_string('per80-60', v.component),\n                        M.util.get_string('per100-80', v.component),\n                        M.util.get_string('per100', v.component)\n                    ],\n                    backgroundColor: [\"#fe6384\", \"#36a2eb\", \"#fdce56\", \"#cacbd0\", \"#4ac0c0\", \"#ff851b\"]\n                }\n            };\n        },\n\n        changeExportUrl: v.changeExportUrl,\n\n        // Get learning program blocks\n        getLpStatsBlock: function() {\n            var lpStatsBlock = $(v.lpStatsBlock);\n            if (lpStatsBlock.length == 0) {\n                return false;\n            }\n\n            return {\n                ctx: lpStatsBlock[0].getContext(\"2d\"),\n                graph: {\n                    type: \"pie\",\n                    options: {\n                        responsive: true,\n                        legend: {position: 'bottom'},\n                        maintainAspectRatio: false,\n                        aspectRatio: 1,\n                        tooltips: {\n                            callbacks: {\n                                label: function(tooltipItem, data) {\n                                    return M.util.get_string('lpstatstooltip', v.component, {\n                                        label: data.labels[tooltipItem.index],\n                                        data: data.datasets[0].data[tooltipItem.index]\n                                    });\n                                }\n                            }\n                        }\n                    },\n                    labels: ['No Users/Courses are available'],\n                    data: [0],\n                    backgroundColor: [\n                        \"#fe6384\", \"#36a2eb\", \"#fdce56\", \"#cacbd0\", \"#4ac0c0\", \"#ff851b\",\n                        \"#14b8bc\", \"#39514a\", \"#059143\", \"#435722\", \"#99c979\", \"#04d4e3\",\n                        \"#666b54\", \"#e029a1\", \"#808040\", \"#d0926a\", \"#54271a\", \"#e9afdc\",\n                        \"#3b4a7d\", \"#79e741\", \"#d4c3b0\", \"#d9c400\", \"#f46e27\", \"#15190c\"\n                    ]\n                }\n            };\n        },\n        // Function to get panelbody, paneltitle and panelfooter\n        getPanel: function(blockid, type) {\n            var panel = \"#wdm-edwiserreports \" + blockid;\n\n            switch (type) {\n                case \"body\":\n                    panel += \" .panel-body\";\n                    break;\n                case \"title\":\n                    panel += \" .panel-title\";\n                    break;\n                case \"footer\":\n                    panel += \" .panel-footer\";\n                    break;\n                case \"table\":\n                    panel += \" .table\";\n                    break;\n                case \"loader\":\n                    panel += \" .loader\";\n                    break;\n            }\n            return panel;\n        },\n\n        // Function to get Template\n        getTemplate: function(template) {\n            return \"local_edwiserreports/\" + template;\n        },\n\n        // Get URL Params\n        getUrlParams: v.getUrlParams,\n\n        // Generate URL\n        generateUrl: v.generateUrl,\n\n        // The download function takes a CSV string, the filename and mimeType as parameters\n        // Scroll/look down at the bottom of this snippet to see how download is called\n        download: function(content, fileName, mimeType) {\n            var a = document.createElement('a');\n            mimeType = mimeType || 'application/octet-stream';\n\n            if (navigator.msSaveBlob) { // IE10\n                navigator.msSaveBlob(new Blob([content], {\n                    type: mimeType\n                }), fileName);\n            } else if (URL && 'download' in a) { // Html5 A[download]\n                a.href = URL.createObjectURL(new Blob([content], {\n                    type: mimeType\n                }));\n                a.setAttribute('download', fileName);\n                document.body.appendChild(a);\n                a.click();\n                document.body.removeChild(a);\n            } else {\n                location.href = 'data:application/octet-stream,' + encodeURIComponent(content); // Only this mime type is supported\n            }\n        }\n    };\n    return defaultConfig;\n});\n"],"file":"defaultconfig.min.js"}